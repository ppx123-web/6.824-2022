# Lab1

## 问题

由于两阶段协议只使用了一个boolean来记录，所以导致可能在checkfail的时候判断该进程（记为T）超时，此时T处于已经进行第一个阶段的确认，然后checkfail将该进程重新加入队列，然后进行任务重新分配，导致重复进行任务，计数器增加，与目标不匹配，卡住无法进行。

解决方案：为两阶段协议使用枚举标记状态，在进行状态改变时需要进行状态检查